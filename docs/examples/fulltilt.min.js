var t={d:(e,n)=>{for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};function n(t){return 0==(t=+t)||isNaN(t)?t:t>0?1:-1}t.d(e,{default:()=>T});var i,r,o,a=(i=function(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},r=!1,o=void 0,function(){return r||(o=i(),r=!0),o}),s=Math.PI,u=s/2,l=s/180,c=180/s,h=Math.atan2,d=Math.asin,f=Math.abs;function p(t,e,n){return{alpha:t*c,beta:e*c,gamma:n*c}}var v=function(){function t(t,e,n,i){this.x=t,this.y=e,this.z=n,this.w=i}return t.prototype.multipliedWith=function(t){return m(this,t)},t.prototype.rotateX=function(t){return this.rotateByAxisAngle([1,0,0],t)},t.prototype.rotateY=function(t){return this.rotateByAxisAngle([0,1,0],t)},t.prototype.rotateZ=function(t){return this.rotateByAxisAngle([0,0,1],t)},t.prototype.toEuler=function(){return M((t=this.x,e=this.y,n=this.z,m=(r=(i=this.w)*i)-(o=t*t)+(a=e*e)-(l=n*n),w=2*(i*n-t*e),g=2*(i*e-t*n),A=(b=(v=i*t+e*n)>.499999*(c=r+o+a+l))||v<-.499999*c,z=(x=f(y=r-o-a+l)<1e-7)||y<0,A?p(b?2*h(e,i):-2*h(e,i),-s-d(2*v/c),0):p(z?h(-w,-m):h(w,m),z?-s-d(2*v/c):d(2*v/c),x?-u:y>0?h(g,y):h(-g,-y))));var t,e,n,i,r,o,a,l,c,v,m,w,y,g,b,A,x,z},t.prototype.normalize=function(){var t=this.length();if(0===t)throw new Error("Cannot normalize zero quaternion");return this.x/=t,this.y/=t,this.z/=t,this.w/=t,this},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},t.prototype.rotateByAxisAngle=function(t,e){return m(this,function(t,e){var n,i,r,o=e.times(.5),a=o.sin(),s=o.cos();return w((null!==(n=t[0])&&void 0!==n?n:0)*a,(null!==(i=t[1])&&void 0!==i?i:0)*a,(null!==(r=t[2])&&void 0!==r?r:0)*a,s)}(t,e)).normalize()},t}(),m=function(t,e){return w(t.x*e.w+t.w*e.x+t.y*e.z-t.z*e.y,t.y*e.w+t.w*e.y+t.z*e.x-t.x*e.z,t.z*e.w+t.w*e.z+t.x*e.y-t.y*e.x,t.w*e.w-t.x*e.x-t.y*e.y-t.z*e.z)};function w(t,e,n,i){return new v(t,e,n,i)}var y=function(){function t(t,e,n,i,r,o,a,s,u){this.elements=new Float32Array(9),t instanceof Float32Array||t instanceof Array?this.elements.set(t):(this.elements[0]=t,this.elements[1]=e,this.elements[2]=n,this.elements[3]=i,this.elements[4]=r,this.elements[5]=o,this.elements[6]=a,this.elements[7]=s,this.elements[8]=u)}return t.prototype.multipliedBy=function(t){return g(this,t)},t.prototype.rotateX=function(t){return this.rotateByAxisAngle([1,0,0],t)},t.prototype.rotateY=function(t){return this.rotateByAxisAngle([0,1,0],t)},t.prototype.rotateZ=function(t){return this.rotateByAxisAngle([0,0,1],t)},t.prototype.rotateByAxisAngle=function(t,e){return this.multipliedBy(b(t,e)).normalize()},t.prototype.normalize=function(){var t=this.determinant();return this.elements[0]/=t,this.elements[1]/=t,this.elements[2]/=t,this.elements[3]/=t,this.elements[4]/=t,this.elements[5]/=t,this.elements[6]/=t,this.elements[7]/=t,this.elements[8]/=t,this},t.prototype.determinant=function(){var t=this.elements;return t[0]*t[4]*t[8]-t[0]*t[5]*t[7]-t[1]*t[3]*t[8]+t[1]*t[5]*t[6]+t[2]*t[3]*t[7]-t[2]*t[4]*t[6]},t.prototype.toEuler=function(){return M((t=this.elements,e=f(t[8])<1e-7,n=f(t[6])<1e-7,i=e&&t[6]<0||t[8]<0,e&&n?p(h(t[3],t[0]),d(t[7]),0):i?p(h(t[1],-t[4]),-s-d(t[7]),h(t[6],-t[8])):p(h(-t[1],t[4]),d(t[7]),h(-t[6],t[8]))));var t,e,n,i},t.prototype.toQuaternion=function(){var t,e=(t=this.elements,{x:.5*Math.sqrt(1+t[0]-t[4]-t[8])*n(t[7]-t[5]),y:.5*Math.sqrt(1-t[0]+t[4]-t[8])*n(t[2]-t[6]),z:.5*Math.sqrt(1-t[0]-t[4]+t[8])*n(t[3]-t[1]),w:.5*Math.sqrt(1+t[0]+t[4]+t[8])});return w(e.x,e.y,e.z,e.w)},t}();function g(t,e){var n=t.elements,i=e.elements;return new y(n[0]*i[0]+n[1]*i[3]+n[2]*i[6],n[0]*i[1]+n[1]*i[4]+n[2]*i[7],n[0]*i[2]+n[1]*i[5]+n[2]*i[8],n[3]*i[0]+n[4]*i[3]+n[5]*i[6],n[3]*i[1]+n[4]*i[4]+n[5]*i[7],n[3]*i[2]+n[4]*i[5]+n[5]*i[8],n[6]*i[0]+n[7]*i[3]+n[8]*i[6],n[6]*i[1]+n[7]*i[4]+n[8]*i[7],n[6]*i[2]+n[7]*i[5]+n[8]*i[8])}function b(t,e){var n=t[0],i=t[1],r=t[2],o=e.sin(),a=e.cos();return new y(a+n*n*(1-a),n*i*(1-a)-r*o,n*r*(1-a)+i*o,n*i*(1-a)+r*o,a+i*i*(1-a),i*r*(1-a)-n*o,n*r*(1-a)-i*o,i*r*(1-a)+n*o,a+r*r*(1-a))}var A=function(){function t(t,e,n){this.alpha=function(t){for(;t<0;)t+=360;return t%360}(null!=t?t:0),this.beta=function(t){for(;t<-180;)t+=360;return t%360}(null!=e?e:0),this.gamma=function(t){if(t<-90||t>90)throw new Error("Incorrect gamma range. It was ".concat(t," but should be between -90 and 90."));return t}(null!=n?n:0)}return t.prototype.rotateX=function(t){return this.rotateByAxisAngle([1,0,0],t)},t.prototype.rotateY=function(t){return this.rotateByAxisAngle([0,1,0],t)},t.prototype.rotateZ=function(t){return this.rotateByAxisAngle([0,0,1],t)},t.prototype.rotateByAxisAngle=function(t,e){return this.toMatrix().rotateByAxisAngle(t,e).toEuler()},t.prototype.toQuaternion=function(){var t,e,n,i,r,o,a,s,u,c,h=(e=((null==(t=this)?void 0:t.alpha)||0)*l,n=((null==t?void 0:t.beta)||0)*l,i=((null==t?void 0:t.gamma)||0)*l,r=Math.cos(n/2),o=Math.cos(i/2),a=Math.cos(e/2),{x:(s=Math.sin(n/2))*o*a-r*(u=Math.sin(i/2))*(c=Math.sin(e/2)),y:r*u*a+s*o*c,z:r*o*c+s*u*a,w:r*o*a-s*u*c});return w(h.x,h.y,h.z,h.w).normalize()},t.prototype.toMatrix=function(){return(e=this,n=(e.alpha||0)*l,i=(e.beta||0)*l,r=(e.gamma||0)*l,o=Math.cos(i),a=Math.cos(r),s=Math.cos(n),u=Math.sin(i),c=Math.sin(r),h=Math.sin(n),d=new Float32Array(9),d[0]=s*a-h*u*c,d[1]=-o*h,d[2]=a*h*u+s*c,d[3]=a*h+s*u*c,d[4]=s*o,d[5]=h*c-s*a*u,d[6]=-o*c,d[7]=u,d[8]=o*a,t=d,new y(t,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined)).normalize();var t,e,n,i,r,o,a,s,u,c,h,d},t}();const x=A;function M(t){return new A(t.alpha,t.beta,t.gamma)}var z=function(){function t(t){"degrees"in t?(this.degrees=t.degrees,this.radians=t.degrees*l):(this.degrees=t.radians*c,this.radians=t.radians)}return t.prototype.sin=function(){return Math.sin(this.radians)},t.prototype.cos=function(){return Math.cos(this.radians)},t.prototype.tan=function(){return Math.tan(this.radians)},t.prototype.times=function(e){return new t({radians:this.radians*(null!=e?e:1)})},t}();var E;!function(t){t[t.Inactive=0]="Inactive",t[t.Pending=1]="Pending",t[t.Active=2]="Active"}(E||(E={}));var P=E.Inactive,B=10;var I={angle:void 0,webkitHeading:void 0,initialAngle:void 0,initial:{alpha:void 0,beta:void 0,gamma:void 0},absolute:{alpha:void 0,beta:void 0,gamma:void 0},relative:{alpha:void 0,beta:void 0,gamma:void 0},get screen(){return n=(e=I.relative).alpha,i=e.beta,r=e.gamma,M({alpha:n-new x(I.webkitHeading,0,0).rotateZ((t=-I.angle,new z({radians:t}))).alpha,beta:i,gamma:r});var t,e,n,i,r}},k=[],q=function(){return!!(window&&window.screen&&window.screen.orientation&&void 0!==window.screen.orientation.angle&&null!==window.screen.orientation.angle)};function O(t){k.push(t)}function L(){P==E.Inactive&&(console.log("starting"),window.addEventListener("deviceorientation",H,!1),window.addEventListener("deviceorientationabsolute",H,!1),N(),P=E.Pending)}var S,C,D,F=(S=function(){for(var t=0,e=k;t<e.length;t++)e[t].call(null,I)},250,null,function(){var t=+new Date,e=arguments,n=C?C+250-t:0,i=function(){C=t,S.apply(null,e)};n>0?(clearTimeout(D),D=setTimeout(i,n)):i()});function H(t){var e=t.absolute,n=t.alpha,i=t.beta,r=t.gamma;if(e)I.absolute={alpha:n,beta:i,gamma:r};else if(I.relative={alpha:n,beta:i,gamma:r},B>0){I.initial={alpha:n,beta:i,gamma:r},B-=1;var o=t.webkitCompassAccuracy,a=t.webkitCompassHeading;null!=o&&o>0&&o<50&&(I.webkitHeading=a),I.initialAngle=Z(),I.angle=I.initialAngle}else P=E.Active;F()}function Z(){return((q()?window.screen.orientation.angle:window.orientation)||0)*(a()?-1:1)*l}function N(){q()?(console.log("Using screen orientation API"),window.screen.orientation.addEventListener("change",(function(){I.angle=Z()}),!1)):(console.log("Using old screen orientation API"),window.addEventListener("orientationchange",(function(){I.angle=Z()}),!1))}const T={version:"0.5.3",orientation:{activate:function(){return t=this,e=void 0,i=function(){return function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}(this,(function(t){switch(t.label){case 0:if(!window.DeviceOrientationEvent)throw new Error("Cannot use device orientation");return"requestPermission"in window.DeviceOrientationEvent?[4,window.DeviceOrientationEvent.requestPermission()]:[3,2];case 1:if("granted"!=t.sent())throw new Error("No permission granted");t.label=2;case 2:return L(),[4,(e=function(){return P==E.Active},n=20,void 0===i&&(i=500),new Promise((function(t,r){var o=setInterval((function(){(n-=1)<=0&&(clearInterval(o),r("Exceeded number of tries")),e()&&(clearInterval(o),t())}),i)})))];case 3:return t.sent(),[2,{listen:O,data:I}]}var e,n,i}))},new((n=void 0)||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){t.done?r(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(a,s)}u((i=i.apply(t,e||[])).next())}));var t,e,n,i},data:I,start:L,stop:function(){P!=E.Inactive&&(window.removeEventListener("deviceorientation",H,!1),window.removeEventListener("deviceorientationabsolute",H,!1),P=E.Inactive)},listen:O,registerForScreenOrientationChange:N}};var X=(e=e.default).default;export{X as default};
//# sourceMappingURL=fulltilt.min.js.map